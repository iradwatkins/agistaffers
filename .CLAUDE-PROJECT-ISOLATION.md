# ğŸ”’ PROJECT ISOLATION - READ-ONLY CROSS-PROJECT ACCESS

**â›” READ THIS BEFORE ANY OPERATION â›”**

---

## ğŸ¯ YOU ARE WORKING ON: **agistaffers**

**Project Root:** `/root/websites/agistaffers`
**Git Repo:** `https://github.com/iradwatkins/agistaffers.git`
**Port:** `3011`
**Database:** `agistaffers_db` on port `DB_3011`
**Primary Mode:** Write access to agistaffers ONLY

---

## âœ… ALLOWED OPERATIONS

### READ Operations (Any Project):
1. âœ… **Read files from ANY project** in `/root/websites/` for reference
2. âœ… **Study code patterns** from other projects
3. âœ… **Copy/adapt code** from other projects into agistaffers
4. âœ… **Compare implementations** across projects
5. âœ… **Reference documentation** from other projects

**Examples:**
- âœ… "Show me how gangrunprinting implements Square payments"
- âœ… "Compare the auth setup in agistaffers vs taxgeniuspro"
- âœ… "Copy the pricing engine from gangrunprinting and adapt it for agistaffers"

### WRITE Operations (agistaffers Only):
1. âœ… **Create/edit/delete files** ONLY in `/root/websites/agistaffers`
2. âœ… **Git operations** ONLY for agistaffers repository
3. âœ… **Database access** ONLY to agistaffers_db
4. âœ… **Start/stop processes** ONLY for agistaffers

---

## âŒ PROHIBITED OPERATIONS

### Cross-Project Writes:
1. âŒ **NEVER modify files** in other projects
2. âŒ **NEVER commit** to other projects' git repos
3. âŒ **NEVER access databases** of other projects
4. âŒ **NEVER run processes** for other projects
5. âŒ **NEVER create files** outside agistaffers

**If asked to modify another project:**
```
âŒ I cannot modify [OTHER_PROJECT] in this session.

I CAN read its code for reference, but all modifications
must happen in agistaffers.

To modify [OTHER_PROJECT], please:
1. Exit this session
2. cd ~/websites/[OTHER_PROJECT]
3. Run: claude-safe
```

---

## ğŸ” SAFE CROSS-PROJECT WORKFLOW

### Example: Copying a feature from gangrunprinting

```typescript
// STEP 1: Read from gangrunprinting (ALLOWED)
Read(/root/websites/gangrunprinting/src/lib/payments/square.ts)

// STEP 2: Adapt for current project (ALLOWED)
// Copy relevant code, update imports, adjust to local structure

// STEP 3: Write to agistaffers (ALLOWED)
Write(/root/websites/agistaffers/src/lib/payments/square.ts)

// STEP 4: Commit to agistaffers (ALLOWED)
git add src/lib/payments/square.ts
git commit -m "Add Square payment integration (adapted from gangrunprinting)"
```

---

## ğŸ“ VALIDATION BEFORE OPERATIONS

### Before ANY WRITE operation:
```typescript
function validateWritePath(path: string): boolean {
  const PROJECT_ROOT = "/root/websites/agistaffers";

  if (!path.startsWith(PROJECT_ROOT)) {
    throw new Error(`
      âŒ WRITE BLOCKED: Path outside project boundary
      Attempted: ${path}
      Allowed: ${PROJECT_ROOT}

      You can READ from other projects, but WRITE only to agistaffers.
    `);
  }

  return true;
}
```

### Before ANY READ operation:
```typescript
function validateReadPath(path: string): boolean {
  const WEBSITES_ROOT = "/root/websites/";

  // Allow reading from any project
  if (path.startsWith(WEBSITES_ROOT)) {
    return true;
  }

  // Warn about reading outside websites directory
  console.warn(`Reading outside /root/websites/: ${path}`);
  return true;
}
```

---

## ğŸ“Š OPERATION MATRIX

| Operation | Current Project | Other Projects | Allowed? |
|-----------|----------------|----------------|----------|
| Read file | âœ… | âœ… | YES |
| Write file | âœ… | âŒ | ONLY current |
| Delete file | âœ… | âŒ | ONLY current |
| Git commit | âœ… | âŒ | ONLY current |
| DB query | âœ… | âŒ | ONLY current |
| Run process | âœ… | âŒ | ONLY current |
| Copy code | âœ… | âœ… â†’ âœ… | Copy FROM others TO current |

---

## ğŸ” SERENA MCP PROJECT ACTIVATION

```
âœ… CORRECT: Serena, activate project: /root/websites/agistaffers
âŒ WRONG: Activating any other project
```

---

## âœ… SELF-CHECK QUESTIONS

Before ANY WRITE operation:
- âœ… Am I writing to /root/websites/agistaffers?
- âœ… Am I using the agistaffers_db database?
- âœ… Am I committing to the agistaffers repo?

Before ANY READ operation:
- âœ… Am I reading for reference/learning purposes?
- âœ… Will I adapt copied code to agistaffers?

If ANY write operation fails these checks â†’ STOP and REFUSE.

---

## ğŸ’¡ REMEMBER

**READ from ANYWHERE, WRITE to CURRENT PROJECT ONLY**

To modify another project:
1. Exit current session
2. cd to target project
3. Run `claude-safe`

---

## âœ… PROJECT ISOLATION ACTIVATED

By reading this file, you acknowledge:
- âœ“ I MAY read from ANY project for reference
- âœ“ I MUST ONLY write to agistaffers
- âœ“ I will validate ALL write operations
- âœ“ I will REFUSE cross-project modifications

**Cross-project read-only access is now ACTIVE.**
